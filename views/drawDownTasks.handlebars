<h2 class="text-blue-500 mb-6 text-2xl font-semibold">Your Tasks</h2>
<div class="bg-white shadow-md rounded-lg p-8 max-w-3xl w-full">
  <!-- Task List Section -->
  <div class="mb-4">
    <h3 class="text-xl mb-4">Task List</h3>
    <ul id="task-list" class="list-disc list-inside">
      {{#each tasks}}
        <li class="flex justify-between items-center mb-2">
          <span>{{title}}</span>
          <button class="text-red-500 hover:text-red-700" data-id="{{id}}">Remove</button>
        </li>
      {{/each}}
    </ul>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const taskList = document.getElementById('task-list');

    taskList.addEventListener('click', function (event) {
      if (event.target.tagName === 'BUTTON') {
        const taskId = event.target.getAttribute('data-id');

        // Make a DELETE request to remove the task
        fetch(`/api/tasks/${taskId}`, {
          method: 'DELETE'
        })
        .then(response => {
          if (response.ok) {
            // Remove the task from the DOM
            event.target.parentElement.remove();
          } else {
            alert('Failed to delete the task.');
          }
        });
      }
    });
  });
</script>
